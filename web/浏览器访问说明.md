# Web 前端浏览器访问说明

## 当前服务状态

✅ **前端开发服务器已启动**
- 地址: http://localhost:5174
- 状态: 运行中
- 框架: Vite + React + TypeScript

✅ **后端 Manager API 已启动**
- 地址: http://127.0.0.1:8080
- 状态: 运行中

## 访问步骤

### 1. 打开浏览器

在浏览器中访问以下地址之一：
- **本地访问**: http://localhost:5174
- **网络访问**: http://192.168.220.41:5174
- **网络访问**: http://10.211.55.2:5174

### 2. 预期看到的页面

打开后应该看到：
- **登录页面**（如果未登录）
  - 标题: "Ops Scaffold Framework"
  - 副标题: "分布式运维管理平台"
  - 用户名输入框
  - 密码输入框
  - 登录按钮

- **Dashboard 页面**（如果已登录）
  - 左侧导航栏
  - 顶部工具栏
  - 节点统计卡片

### 3. 如果页面显示空白

这可能是浏览器缓存或 JavaScript 执行问题。请尝试：

#### 方法 1: 打开浏览器开发者工具
1. 按 F12 或右键 -> 检查
2. 切换到 "Console" 标签
3. 查看是否有红色错误信息
4. 将错误信息截图或复制

#### 方法 2: 强制刷新
- Windows: Ctrl + Shift + R
- Mac: Cmd + Shift + R
- 或清除浏览器缓存后重新访问

#### 方法 3: 检查网络请求
1. 打开开发者工具 (F12)
2. 切换到 "Network" 标签
3. 刷新页面
4. 查看是否有红色的失败请求
5. 检查 main.tsx、App.tsx 等文件是否成功加载

### 4. 测试登录

如果登录页面正常显示，可以尝试：

#### 方式 1: 注册新账号（前端暂未实现）
目前需要通过 API 直接注册：
```bash
curl -X POST http://127.0.0.1:8080/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "password123",
    "email": "test@example.com"
  }'
```

#### 方式 2: 使用测试账号
如果运行过 Manager 集成测试，可以使用测试创建的账号：
- 用户名: 查看测试日志中的 `testuser_<timestamp>`
- 密码: `newpassword456`

### 5. 登录后功能

成功登录后，可以：
1. **查看 Dashboard**
   - 节点总数统计
   - 在线节点数
   - 离线节点数

2. **节点管理**
   - 点击左侧 "节点管理" 菜单
   - 查看节点列表
   - 分页浏览
   - 删除节点（需要有节点数据）

## 常见问题排查

### 问题 1: 页面完全空白
**可能原因**:
- JavaScript 执行错误
- React 组件渲染失败

**排查方法**:
1. 打开浏览器控制台 (F12 -> Console)
2. 查找错误信息
3. 检查 Network 标签，确认所有 JS 文件都成功加载

### 问题 2: 登录后无反应
**可能原因**:
- API 请求失败
- Token 未正确保存

**排查方法**:
1. 打开浏览器控制台 (F12 -> Console)
2. 查看是否有 401 或 500 错误
3. 检查 Network 标签，查看 `/api/v1/auth/login` 请求的响应
4. 检查 Application -> LocalStorage，确认 `ops_token` 和 `ops_user` 是否存在

### 问题 3: 无法连接到后端
**检查项**:
- Manager 服务是否在运行：访问 http://127.0.0.1:8080/health
- Vite 代理配置是否正确（已配置在 vite.config.ts）
- 网络防火墙是否阻止了请求

## 技术说明

### 前端技术栈
- React 18.2 - UI 框架
- TypeScript - 类型安全
- Vite 7.2 - 构建工具（支持 HMR 热更新）
- Material-UI 7.3 - UI 组件库
- Zustand - 状态管理
- React Query - 数据获取和缓存
- Axios - HTTP 客户端

### 页面路由
- `/` - 自动跳转到 `/dashboard`
- `/login` - 登录页面
- `/dashboard` - 仪表盘（需要登录）
- `/nodes` - 节点管理（需要登录）

### API 代理
开发环境下，前端的 `/api/*` 请求会自动代理到 `http://127.0.0.1:8080`

## 下一步

如果遇到问题，请：
1. 查看浏览器控制台的错误信息
2. 查看 Vite 开发服务器的输出
3. 查看 Manager 服务的日志
4. 提供具体的错误信息以便定位问题
