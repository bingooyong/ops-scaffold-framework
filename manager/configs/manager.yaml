# Manager配置文件（生产环境）

# HTTP服务配置
server:
  host: 0.0.0.0
  port: 8080
  mode: release  # debug, release
  read_timeout: 30s
  write_timeout: 30s

# 数据库配置
database:
  driver: mysql
  dsn: "root:password@tcp(localhost:3306)/ops_manager?charset=utf8mb4&parseTime=True&loc=Local"
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 1h
  log_level: warn  # silent, error, warn, info

# Redis配置
redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10

# gRPC服务配置
grpc:
  host: 0.0.0.0
  port: 9090
  tls:
    enabled: true
    cert_file: /etc/manager/certs/server.crt
    key_file: /etc/manager/certs/server.key
    ca_file: /etc/manager/certs/ca.crt

# JWT配置
jwt:
  secret: "your-secret-key-change-this-in-production"
  expire_time: 24h
  issuer: "ops-manager"

# 日志配置
log:
  level: info  # debug, info, warn, error
  output_path: /var/log/manager/manager.log
  max_size: 100    # MB
  max_backups: 10  # 保留的旧日志文件数
  max_age: 30      # 天
  compress: true
